{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { PaymentMethod } from '../../models/order.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"../../services/order.service\";\nimport * as i4 from \"../../services/auth.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nfunction CheckoutComponent_div_23_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Full name is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Address is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" City is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" State is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Postal code is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Country is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h2\");\n    i0.ɵɵtext(2, \"Shipping Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function CheckoutComponent_div_23_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.nextStep());\n    });\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"label\", 14);\n    i0.ɵɵtext(6, \"Full Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 15);\n    i0.ɵɵtemplate(8, CheckoutComponent_div_23_div_8_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 13)(10, \"label\", 17);\n    i0.ɵɵtext(11, \"Address Line 1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 18);\n    i0.ɵɵtemplate(13, CheckoutComponent_div_23_div_13_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 13)(15, \"label\", 19);\n    i0.ɵɵtext(16, \"Address Line 2 (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 21)(19, \"div\", 22)(20, \"label\", 23);\n    i0.ɵɵtext(21, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 24);\n    i0.ɵɵtemplate(23, CheckoutComponent_div_23_div_23_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 22)(25, \"label\", 25);\n    i0.ɵɵtext(26, \"State/Province\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"input\", 26);\n    i0.ɵɵtemplate(28, CheckoutComponent_div_23_div_28_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 21)(30, \"div\", 22)(31, \"label\", 27);\n    i0.ɵɵtext(32, \"Postal Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"input\", 28);\n    i0.ɵɵtemplate(34, CheckoutComponent_div_23_div_34_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 22)(36, \"label\", 29);\n    i0.ɵɵtext(37, \"Country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"input\", 30);\n    i0.ɵɵtemplate(39, CheckoutComponent_div_23_div_39_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 31)(41, \"button\", 32);\n    i0.ɵɵtext(42, \" Continue to Payment \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.shippingForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.fullName.invalid && ctx_r0.sf.fullName.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.fullName.invalid && ctx_r0.sf.fullName.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.addressLine1.invalid && ctx_r0.sf.addressLine1.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.addressLine1.invalid && ctx_r0.sf.addressLine1.touched);\n    i0.ɵɵadvance(9);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.city.invalid && ctx_r0.sf.city.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.city.invalid && ctx_r0.sf.city.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.state.invalid && ctx_r0.sf.state.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.state.invalid && ctx_r0.sf.state.touched);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.postalCode.invalid && ctx_r0.sf.postalCode.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.postalCode.invalid && ctx_r0.sf.postalCode.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.sf.country.invalid && ctx_r0.sf.country.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sf.country.invalid && ctx_r0.sf.country.touched);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.shippingForm.invalid);\n  }\n}\nfunction CheckoutComponent_div_24_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_24_div_8_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const method_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.paymentForm.patchValue({\n        paymentMethod: method_r17.id\n      }));\n    });\n    i0.ɵɵelementStart(1, \"div\", 41);\n    i0.ɵɵelement(2, \"input\", 42);\n    i0.ɵɵelementStart(3, \"label\", 43);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const method_r17 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected\", ctx_r11.paymentForm.value.paymentMethod === method_r17.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", method_r17.id)(\"value\", method_r17.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", method_r17.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(method_r17.name);\n  }\n}\nfunction CheckoutComponent_div_24_div_9_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Please enter a valid 16-digit card number \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_div_9_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Name on card is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_div_9_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Please enter a valid expiry date (MM/YY) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_div_9_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Please enter a valid CVV \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 13)(2, \"label\", 45);\n    i0.ɵɵtext(3, \"Card Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 46);\n    i0.ɵɵtemplate(5, CheckoutComponent_div_24_div_9_div_5_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13)(7, \"label\", 47);\n    i0.ɵɵtext(8, \"Name on Card\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 48);\n    i0.ɵɵtemplate(10, CheckoutComponent_div_24_div_9_div_10_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 21)(12, \"div\", 22)(13, \"label\", 49);\n    i0.ɵɵtext(14, \"Expiry Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 50);\n    i0.ɵɵtemplate(16, CheckoutComponent_div_24_div_9_div_16_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 22)(18, \"label\", 51);\n    i0.ɵɵtext(19, \"CVV\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 52);\n    i0.ɵɵtemplate(21, CheckoutComponent_div_24_div_9_div_21_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r12.pf.cardNumber.invalid && ctx_r12.pf.cardNumber.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.pf.cardNumber.invalid && ctx_r12.pf.cardNumber.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r12.pf.cardName.invalid && ctx_r12.pf.cardName.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.pf.cardName.invalid && ctx_r12.pf.cardName.touched);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r12.pf.expiryDate.invalid && ctx_r12.pf.expiryDate.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.pf.expiryDate.invalid && ctx_r12.pf.expiryDate.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r12.pf.cvv.invalid && ctx_r12.pf.cvv.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.pf.cvv.invalid && ctx_r12.pf.cvv.touched);\n  }\n}\nfunction CheckoutComponent_div_24_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"p\");\n    i0.ɵɵtext(2, \"You will be redirected to PayPal to complete your payment after reviewing your order.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CheckoutComponent_div_24_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.error, \" \");\n  }\n}\nfunction CheckoutComponent_div_24_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Place Order\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Processing...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CheckoutComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h2\");\n    i0.ɵɵtext(2, \"Payment Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function CheckoutComponent_div_24_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.placeOrder());\n    });\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"label\");\n    i0.ɵɵtext(6, \"Payment Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 34);\n    i0.ɵɵtemplate(8, CheckoutComponent_div_24_div_8_Template, 5, 6, \"div\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, CheckoutComponent_div_24_div_9_Template, 22, 12, \"div\", 36);\n    i0.ɵɵtemplate(10, CheckoutComponent_div_24_div_10_Template, 3, 0, \"div\", 37);\n    i0.ɵɵtemplate(11, CheckoutComponent_div_24_div_11_Template, 2, 1, \"div\", 38);\n    i0.ɵɵelementStart(12, \"div\", 31)(13, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function CheckoutComponent_div_24_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.prevStep());\n    });\n    i0.ɵɵtext(14, \" Back to Shipping \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 32);\n    i0.ɵɵtemplate(16, CheckoutComponent_div_24_span_16_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtemplate(17, CheckoutComponent_div_24_span_17_Template, 2, 0, \"span\", 10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.paymentForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.paymentMethods);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.paymentForm.value.paymentMethod === \"credit_card\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.paymentForm.value.paymentMethod === \"paypal\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.error);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.paymentForm.invalid || ctx_r1.isSubmitting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isSubmitting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isSubmitting);\n  }\n}\nfunction CheckoutComponent_div_28_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60)(1, \"div\", 61)(2, \"div\", 62);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 63);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 64);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r29 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r29.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Qty: \", item_r29.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", (item_r29.price * item_r29.quantity).toFixed(2), \"\");\n  }\n}\nfunction CheckoutComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 55);\n    i0.ɵɵtemplate(2, CheckoutComponent_div_28_div_2_Template, 8, 3, \"div\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 57);\n    i0.ɵɵelementStart(4, \"div\", 58)(5, \"span\");\n    i0.ɵɵtext(6, \"Subtotal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 58)(10, \"span\");\n    i0.ɵɵtext(11, \"Shipping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13, \"Free\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 59)(15, \"span\");\n    i0.ɵɵtext(16, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cart_r27 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", cart_r27.items);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"$\", cart_r27.totalPrice.toFixed(2), \"\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"$\", cart_r27.totalPrice.toFixed(2), \"\");\n  }\n}\nexport class CheckoutComponent {\n  constructor(fb, cartService, orderService, authService, router) {\n    this.fb = fb;\n    this.cartService = cartService;\n    this.orderService = orderService;\n    this.authService = authService;\n    this.router = router;\n    this.currentUser = null;\n    this.currentStep = 1;\n    this.isSubmitting = false;\n    this.error = null;\n    this.paymentMethods = [{\n      id: PaymentMethod.CREDIT_CARD,\n      name: 'Credit Card'\n    }, {\n      id: PaymentMethod.PAYPAL,\n      name: 'PayPal'\n    }];\n    this.cart$ = this.cartService.cart$;\n    // Initialize forms\n    this.shippingForm = this.fb.group({\n      fullName: ['', [Validators.required]],\n      addressLine1: ['', [Validators.required]],\n      addressLine2: [''],\n      city: ['', [Validators.required]],\n      state: ['', [Validators.required]],\n      postalCode: ['', [Validators.required]],\n      country: ['', [Validators.required]]\n    });\n    this.paymentForm = this.fb.group({\n      paymentMethod: [PaymentMethod.CREDIT_CARD, [Validators.required]],\n      cardNumber: ['', [Validators.required, Validators.pattern(/^\\d{16}$/)]],\n      cardName: ['', [Validators.required]],\n      expiryDate: ['', [Validators.required, Validators.pattern(/^(0[1-9]|1[0-2])\\/\\d{2}$/)]],\n      cvv: ['', [Validators.required, Validators.pattern(/^\\d{3,4}$/)]]\n    });\n  }\n  ngOnInit() {\n    // Get current user\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n      // Pre-fill shipping form if user has address\n      if (user && user.address) {\n        this.shippingForm.patchValue({\n          fullName: `${user.firstName} ${user.lastName}`,\n          addressLine1: user.address.addressLine1,\n          addressLine2: user.address.addressLine2 || '',\n          city: user.address.city,\n          state: user.address.state,\n          postalCode: user.address.postalCode,\n          country: user.address.country\n        });\n      }\n    });\n  }\n  nextStep() {\n    if (this.currentStep === 1 && this.shippingForm.valid) {\n      this.currentStep = 2;\n      window.scrollTo(0, 0);\n    }\n  }\n  prevStep() {\n    if (this.currentStep === 2) {\n      this.currentStep = 1;\n      window.scrollTo(0, 0);\n    }\n  }\n  placeOrder() {\n    if (this.shippingForm.invalid || this.paymentForm.invalid) {\n      return;\n    }\n    const cart = this.cartService.currentCartValue;\n    if (!cart || !this.currentUser) {\n      this.error = 'Unable to place order. Please try again later.';\n      return;\n    }\n    this.isSubmitting = true;\n    // Create order object\n    const order = {\n      customerId: this.currentUser.customerId,\n      items: cart.items.map(item => ({\n        productId: item.productId,\n        name: item.name,\n        price: item.price,\n        quantity: item.quantity\n      })),\n      totalAmount: cart.totalPrice,\n      shippingAddress: {\n        fullName: this.shippingForm.value.fullName,\n        addressLine1: this.shippingForm.value.addressLine1,\n        addressLine2: this.shippingForm.value.addressLine2,\n        city: this.shippingForm.value.city,\n        state: this.shippingForm.value.state,\n        postalCode: this.shippingForm.value.postalCode,\n        country: this.shippingForm.value.country\n      },\n      paymentMethod: this.paymentForm.value.paymentMethod\n    };\n    this.orderService.createOrder(order).subscribe({\n      next: createdOrder => {\n        this.isSubmitting = false;\n        // Navigate to order confirmation page\n        this.router.navigate(['/order-confirmation', createdOrder.orderId]);\n      },\n      error: error => {\n        console.error('Error creating order:', error);\n        this.error = 'Failed to place your order. Please try again later.';\n        this.isSubmitting = false;\n      }\n    });\n  }\n  // Form getters for validation\n  get sf() {\n    return this.shippingForm.controls;\n  }\n  get pf() {\n    return this.paymentForm.controls;\n  }\n  static {\n    this.ɵfac = function CheckoutComponent_Factory(t) {\n      return new (t || CheckoutComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.OrderService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CheckoutComponent,\n      selectors: [[\"app-checkout\"]],\n      decls: 30,\n      vars: 11,\n      consts: [[1, \"checkout-page\"], [1, \"page-header\"], [1, \"checkout-steps\"], [1, \"step\"], [1, \"step-number\"], [1, \"step-label\"], [1, \"step-connector\"], [1, \"checkout-content\"], [\"class\", \"checkout-step-content\", 4, \"ngIf\"], [1, \"order-summary\"], [4, \"ngIf\"], [1, \"checkout-step-content\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"fullName\"], [\"type\", \"text\", \"id\", \"fullName\", \"formControlName\", \"fullName\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"addressLine1\"], [\"type\", \"text\", \"id\", \"addressLine1\", \"formControlName\", \"addressLine1\", 1, \"form-control\"], [\"for\", \"addressLine2\"], [\"type\", \"text\", \"id\", \"addressLine2\", \"formControlName\", \"addressLine2\", 1, \"form-control\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"city\"], [\"type\", \"text\", \"id\", \"city\", \"formControlName\", \"city\", 1, \"form-control\"], [\"for\", \"state\"], [\"type\", \"text\", \"id\", \"state\", \"formControlName\", \"state\", 1, \"form-control\"], [\"for\", \"postalCode\"], [\"type\", \"text\", \"id\", \"postalCode\", \"formControlName\", \"postalCode\", 1, \"form-control\"], [\"for\", \"country\"], [\"type\", \"text\", \"id\", \"country\", \"formControlName\", \"country\", 1, \"form-control\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"invalid-feedback\"], [1, \"payment-methods\"], [\"class\", \"payment-method\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"credit-card-form\", 4, \"ngIf\"], [\"class\", \"paypal-info\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline\", 3, \"click\"], [1, \"payment-method\", 3, \"click\"], [1, \"payment-method-radio\"], [\"type\", \"radio\", \"formControlName\", \"paymentMethod\", 3, \"id\", \"value\"], [3, \"for\"], [1, \"credit-card-form\"], [\"for\", \"cardNumber\"], [\"type\", \"text\", \"id\", \"cardNumber\", \"formControlName\", \"cardNumber\", \"placeholder\", \"1234 5678 9012 3456\", 1, \"form-control\"], [\"for\", \"cardName\"], [\"type\", \"text\", \"id\", \"cardName\", \"formControlName\", \"cardName\", 1, \"form-control\"], [\"for\", \"expiryDate\"], [\"type\", \"text\", \"id\", \"expiryDate\", \"formControlName\", \"expiryDate\", \"placeholder\", \"MM/YY\", 1, \"form-control\"], [\"for\", \"cvv\"], [\"type\", \"text\", \"id\", \"cvv\", \"formControlName\", \"cvv\", \"placeholder\", \"123\", 1, \"form-control\"], [1, \"paypal-info\"], [1, \"alert\", \"alert-danger\"], [1, \"cart-items\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"summary-divider\"], [1, \"summary-row\"], [1, \"summary-row\", \"total\"], [1, \"cart-item\"], [1, \"item-info\"], [1, \"item-name\"], [1, \"item-quantity\"], [1, \"item-price\"]],\n      template: function CheckoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Checkout\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4);\n          i0.ɵɵtext(7, \"1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 5);\n          i0.ɵɵtext(9, \"Shipping\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(10, \"div\", 6);\n          i0.ɵɵelementStart(11, \"div\", 3)(12, \"div\", 4);\n          i0.ɵɵtext(13, \"2\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 5);\n          i0.ɵɵtext(15, \"Payment\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(16, \"div\", 6);\n          i0.ɵɵelementStart(17, \"div\", 3)(18, \"div\", 4);\n          i0.ɵɵtext(19, \"3\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"div\", 5);\n          i0.ɵɵtext(21, \"Confirmation\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"div\", 7);\n          i0.ɵɵtemplate(23, CheckoutComponent_div_23_Template, 43, 20, \"div\", 8);\n          i0.ɵɵtemplate(24, CheckoutComponent_div_24_Template, 18, 8, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 9)(26, \"h3\");\n          i0.ɵɵtext(27, \"Order Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, CheckoutComponent_div_28_Template, 19, 3, \"div\", 10);\n          i0.ɵɵpipe(29, \"async\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"active\", ctx.currentStep === 1);\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"active\", ctx.currentStep === 2);\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"active\", ctx.currentStep === 3);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 1);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentStep === 2);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(29, 9, ctx.cart$));\n        }\n      },\n      dependencies: [i6.NgForOf, i6.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i6.AsyncPipe],\n      styles: [\".checkout-page[_ngcontent-%COMP%] {\\n  padding-bottom: 3rem;\\n  display: grid;\\n  grid-template-columns: 2fr 1fr;\\n  gap: 2rem;\\n}\\n\\n.page-header[_ngcontent-%COMP%] {\\n  grid-column: 1/-1;\\n  margin-bottom: 2rem;\\n}\\n.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.checkout-steps[_ngcontent-%COMP%] {\\n  grid-column: 1/-1;\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 2rem;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  background-color: #e9ecef;\\n  color: #6c757d;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-weight: 600;\\n  margin-bottom: 0.5rem;\\n  transition: all 0.3s ease;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n  transition: color 0.3s ease;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%] {\\n  color: #007bff;\\n  font-weight: 600;\\n}\\n.checkout-steps[_ngcontent-%COMP%]   .step-connector[_ngcontent-%COMP%] {\\n  flex: 1;\\n  height: 2px;\\n  background-color: #e9ecef;\\n  margin: 0 1rem;\\n}\\n\\n.checkout-step-content[_ngcontent-%COMP%] {\\n  background-color: #fff;\\n  border-radius: 8px;\\n  padding: 2rem;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  margin-bottom: 1.5rem;\\n  padding-bottom: 1rem;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin-left: -0.5rem;\\n  margin-right: -0.5rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] {\\n  padding-left: 0.5rem;\\n  padding-right: 0.5rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 2rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  min-width: 150px;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  margin-top: 0.25rem;\\n  font-size: 80%;\\n  color: #dc3545;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method[_ngcontent-%COMP%] {\\n  border: 1px solid #dee2e6;\\n  border-radius: 4px;\\n  padding: 1rem;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method[_ngcontent-%COMP%]:hover {\\n  border-color: #adb5bd;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method.selected[_ngcontent-%COMP%] {\\n  border-color: #007bff;\\n  background-color: rgba(0, 123, 255, 0.05);\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method[_ngcontent-%COMP%]   .payment-method-radio[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method[_ngcontent-%COMP%]   .payment-method-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  margin-right: 0.5rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]   .payment-method[_ngcontent-%COMP%]   .payment-method-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  font-weight: 500;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .credit-card-form[_ngcontent-%COMP%] {\\n  margin-top: 1.5rem;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .paypal-info[_ngcontent-%COMP%] {\\n  margin-top: 1.5rem;\\n  padding: 1rem;\\n  background-color: #f8f9fa;\\n  border-radius: 4px;\\n}\\n.checkout-step-content[_ngcontent-%COMP%]   .paypal-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  color: #666;\\n}\\n\\n.order-summary[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border-radius: 8px;\\n  padding: 1.5rem;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  align-self: flex-start;\\n  position: sticky;\\n  top: 100px;\\n}\\n.order-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 1.3rem;\\n  margin-bottom: 1.5rem;\\n  padding-bottom: 1rem;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n.order-summary[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n.order-summary[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 1rem;\\n}\\n.order-summary[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  margin-bottom: 0.25rem;\\n}\\n.order-summary[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n}\\n.order-summary[_ngcontent-%COMP%]   .cart-items[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n.order-summary[_ngcontent-%COMP%]   .summary-divider[_ngcontent-%COMP%] {\\n  height: 1px;\\n  background-color: #dee2e6;\\n  margin: 1rem 0;\\n}\\n.order-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 0.75rem;\\n}\\n.order-summary[_ngcontent-%COMP%]   .summary-row.total[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  font-weight: 600;\\n  margin-top: 1rem;\\n  padding-top: 1rem;\\n  border-top: 1px solid #dee2e6;\\n}\\n\\n\\n\\n@media (max-width: 992px) {\\n  .checkout-page[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .order-summary[_ngcontent-%COMP%] {\\n    position: static;\\n    margin-top: 2rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2hlY2tvdXQvY2hlY2tvdXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc1FBO0VBQ0Usb0JBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxTQUFBO0FBclFGOztBQXdRQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7QUFyUUY7QUF1UUU7RUFDRSxpQkFBQTtFQUNBLHFCQUFBO0FBclFKOztBQXlRQTtFQUNFLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUF0UUY7QUF3UUU7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQXRRSjtBQXdRSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtBQXRRTjtBQXlRSTtFQUNFLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLDJCQUFBO0FBdlFOO0FBMlFNO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBelFSO0FBNFFNO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0FBMVFSO0FBK1FFO0VBQ0UsT0FBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7QUE3UUo7O0FBaVJBO0VBQ0Usc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSx3Q0FBQTtBQTlRRjtBQWdSRTtFQUNFLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSxvQkFBQTtFQUNBLGdDQUFBO0FBOVFKO0FBaVJFO0VBQ0UscUJBQUE7QUEvUUo7QUFrUkU7RUFDRSxhQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtBQWhSSjtBQWtSSTtFQUNFLG9CQUFBO0VBQ0EscUJBQUE7QUFoUk47QUFvUkU7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtBQWxSSjtBQW9SSTtFQUNFLGdCQUFBO0FBbFJOO0FBc1JFO0VBQ0UsY0FBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0FBcFJKO0FBdVJFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsU0FBQTtBQXJSSjtBQXVSSTtFQUNFLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBclJOO0FBdVJNO0VBQ0UscUJBQUE7QUFyUlI7QUF3Uk07RUFDRSxxQkFBQTtFQUNBLHlDQUFBO0FBdFJSO0FBeVJNO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBdlJSO0FBeVJRO0VBQ0Usb0JBQUE7QUF2UlY7QUEwUlE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBeFJWO0FBOFJFO0VBQ0Usa0JBQUE7QUE1Uko7QUErUkU7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0FBN1JKO0FBK1JJO0VBQ0UsZ0JBQUE7RUFDQSxXQUFBO0FBN1JOOztBQWtTQTtFQUNFLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0Esd0NBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtBQS9SRjtBQWlTRTtFQUNFLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSxvQkFBQTtFQUNBLGdDQUFBO0FBL1JKO0FBa1NFO0VBQ0UscUJBQUE7QUFoU0o7QUFrU0k7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQWhTTjtBQW1TUTtFQUNFLGdCQUFBO0VBQ0Esc0JBQUE7QUFqU1Y7QUFvU1E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7QUFsU1Y7QUFzU007RUFDRSxnQkFBQTtBQXBTUjtBQXlTRTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7QUF2U0o7QUEwU0U7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxzQkFBQTtBQXhTSjtBQTBTSTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7QUF4U047O0FBNlNBLHNCQUFBO0FBQ0E7RUFDRTtJQUNFLDBCQUFBO0VBMVNGO0VBNlNBO0lBQ0UsZ0JBQUE7SUFDQSxnQkFBQTtFQTNTRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4uY2hlY2tvdXQtcGFnZSB7XG4gIHBhZGRpbmctYm90dG9tOiAzcmVtO1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDJmciAxZnI7XG4gIGdhcDogMnJlbTtcbn1cblxuLnBhZ2UtaGVhZGVyIHtcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbiAgXG4gIGgxIHtcbiAgICBmb250LXNpemU6IDIuNXJlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gIH1cbn1cblxuLmNoZWNrb3V0LXN0ZXBzIHtcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbiAgXG4gIC5zdGVwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBcbiAgICAuc3RlcC1udW1iZXIge1xuICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xuICAgICAgY29sb3I6ICM2Yzc1N2Q7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgfVxuICAgIFxuICAgIC5zdGVwLWxhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgICAgY29sb3I6ICM2Yzc1N2Q7XG4gICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzIGVhc2U7XG4gICAgfVxuICAgIFxuICAgICYuYWN0aXZlIHtcbiAgICAgIC5zdGVwLW51bWJlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLnN0ZXAtbGFiZWwge1xuICAgICAgICBjb2xvcjogIzAwN2JmZjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC5zdGVwLWNvbm5lY3RvciB7XG4gICAgZmxleDogMTtcbiAgICBoZWlnaHQ6IDJweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xuICAgIG1hcmdpbjogMCAxcmVtO1xuICB9XG59XG5cbi5jaGVja291dC1zdGVwLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDJyZW07XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIFxuICBoMiB7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGVlMmU2O1xuICB9XG4gIFxuICAuZm9ybS1ncm91cCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICB9XG4gIFxuICAuZm9ybS1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luLWxlZnQ6IC0wLjVyZW07XG4gICAgbWFyZ2luLXJpZ2h0OiAtMC41cmVtO1xuICAgIFxuICAgIC5mb3JtLWdyb3VwIHtcbiAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICAgICAgcGFkZGluZy1yaWdodDogMC41cmVtO1xuICAgIH1cbiAgfVxuICBcbiAgLmZvcm0tYWN0aW9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgICBcbiAgICAuYnRuIHtcbiAgICAgIG1pbi13aWR0aDogMTUwcHg7XG4gICAgfVxuICB9XG4gIFxuICAuaW52YWxpZC1mZWVkYmFjayB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLXRvcDogMC4yNXJlbTtcbiAgICBmb250LXNpemU6IDgwJTtcbiAgICBjb2xvcjogI2RjMzU0NTtcbiAgfVxuICBcbiAgLnBheW1lbnQtbWV0aG9kcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMXJlbTtcbiAgICBcbiAgICAucGF5bWVudC1tZXRob2Qge1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjYWRiNWJkO1xuICAgICAgfVxuICAgICAgXG4gICAgICAmLnNlbGVjdGVkIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDEyMywgMjU1LCAwLjA1KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLnBheW1lbnQtbWV0aG9kLXJhZGlvIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgXG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGFiZWwge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLmNyZWRpdC1jYXJkLWZvcm0ge1xuICAgIG1hcmdpbi10b3A6IDEuNXJlbTtcbiAgfVxuICBcbiAgLnBheXBhbC1pbmZvIHtcbiAgICBtYXJnaW4tdG9wOiAxLjVyZW07XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBcbiAgICBwIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICBjb2xvcjogIzY2NjtcbiAgICB9XG4gIH1cbn1cblxuLm9yZGVyLXN1bW1hcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDEuNXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgdG9wOiAxMDBweDtcbiAgXG4gIGgzIHtcbiAgICBmb250LXNpemU6IDEuM3JlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgcGFkZGluZy1ib3R0b206IDFyZW07XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7XG4gIH1cbiAgXG4gIC5jYXJ0LWl0ZW1zIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgXG4gICAgLmNhcnQtaXRlbSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgIFxuICAgICAgLml0ZW0taW5mbyB7XG4gICAgICAgIC5pdGVtLW5hbWUge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC4yNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLml0ZW0tcXVhbnRpdHkge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgICAgICAgIGNvbG9yOiAjNmM3NTdkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5pdGVtLXByaWNlIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC5zdW1tYXJ5LWRpdmlkZXIge1xuICAgIGhlaWdodDogMXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkZWUyZTY7XG4gICAgbWFyZ2luOiAxcmVtIDA7XG4gIH1cbiAgXG4gIC5zdW1tYXJ5LXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luLWJvdHRvbTogMC43NXJlbTtcbiAgICBcbiAgICAmLnRvdGFsIHtcbiAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIG1hcmdpbi10b3A6IDFyZW07XG4gICAgICBwYWRkaW5nLXRvcDogMXJlbTtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVlMmU2O1xuICAgIH1cbiAgfVxufVxuXG4vKiBSZXNwb25zaXZlIFN0eWxlcyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XG4gIC5jaGVja291dC1wYWdlIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgfVxuICBcbiAgLm9yZGVyLXN1bW1hcnkge1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","PaymentMethod","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CheckoutComponent_div_23_Template_form_ngSubmit_3_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","nextStep","ɵɵelement","ɵɵtemplate","CheckoutComponent_div_23_div_8_Template","CheckoutComponent_div_23_div_13_Template","CheckoutComponent_div_23_div_23_Template","CheckoutComponent_div_23_div_28_Template","CheckoutComponent_div_23_div_34_Template","CheckoutComponent_div_23_div_39_Template","ɵɵadvance","ɵɵproperty","ctx_r0","shippingForm","ɵɵclassProp","sf","fullName","invalid","touched","addressLine1","city","state","postalCode","country","CheckoutComponent_div_24_div_8_Template_div_click_0_listener","restoredCtx","_r19","method_r17","$implicit","ctx_r18","paymentForm","patchValue","paymentMethod","id","ctx_r11","value","ɵɵtextInterpolate","name","CheckoutComponent_div_24_div_9_div_5_Template","CheckoutComponent_div_24_div_9_div_10_Template","CheckoutComponent_div_24_div_9_div_16_Template","CheckoutComponent_div_24_div_9_div_21_Template","ctx_r12","pf","cardNumber","cardName","expiryDate","cvv","ɵɵtextInterpolate1","ctx_r14","error","CheckoutComponent_div_24_Template_form_ngSubmit_3_listener","_r25","ctx_r24","placeOrder","CheckoutComponent_div_24_div_8_Template","CheckoutComponent_div_24_div_9_Template","CheckoutComponent_div_24_div_10_Template","CheckoutComponent_div_24_div_11_Template","CheckoutComponent_div_24_Template_button_click_13_listener","ctx_r26","prevStep","CheckoutComponent_div_24_span_16_Template","CheckoutComponent_div_24_span_17_Template","ctx_r1","paymentMethods","isSubmitting","item_r29","quantity","price","toFixed","CheckoutComponent_div_28_div_2_Template","cart_r27","items","totalPrice","CheckoutComponent","constructor","fb","cartService","orderService","authService","router","currentUser","currentStep","CREDIT_CARD","PAYPAL","cart$","group","required","addressLine2","pattern","ngOnInit","currentUser$","subscribe","user","address","firstName","lastName","valid","window","scrollTo","cart","currentCartValue","order","customerId","map","item","productId","totalAmount","shippingAddress","createOrder","next","createdOrder","navigate","orderId","console","controls","ɵɵdirectiveInject","i1","FormBuilder","i2","CartService","i3","OrderService","i4","AuthService","i5","Router","selectors","decls","vars","consts","template","CheckoutComponent_Template","rf","ctx","CheckoutComponent_div_23_Template","CheckoutComponent_div_24_Template","CheckoutComponent_div_28_Template","ɵɵpipeBind1"],"sources":["/workspace/simplewebsite/frontend/src/app/pages/checkout/checkout.component.ts","/workspace/simplewebsite/frontend/src/app/pages/checkout/checkout.component.html"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Cart } from '../../models/cart.model';\nimport { Customer } from '../../models/customer.model';\nimport { Order, PaymentMethod } from '../../models/order.model';\nimport { CartService } from '../../services/cart.service';\nimport { OrderService } from '../../services/order.service';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.scss']\n})\nexport class CheckoutComponent implements OnInit {\n  cart$: Observable<Cart | null>;\n  currentUser: Customer | null = null;\n  \n  shippingForm: FormGroup;\n  paymentForm: FormGroup;\n  \n  currentStep = 1;\n  isSubmitting = false;\n  error: string | null = null;\n  \n  paymentMethods = [\n    { id: PaymentMethod.CREDIT_CARD, name: 'Credit Card' },\n    { id: PaymentMethod.PAYPAL, name: 'PayPal' }\n  ];\n  \n  constructor(\n    private fb: FormBuilder,\n    private cartService: CartService,\n    private orderService: OrderService,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.cart$ = this.cartService.cart$;\n    \n    // Initialize forms\n    this.shippingForm = this.fb.group({\n      fullName: ['', [Validators.required]],\n      addressLine1: ['', [Validators.required]],\n      addressLine2: [''],\n      city: ['', [Validators.required]],\n      state: ['', [Validators.required]],\n      postalCode: ['', [Validators.required]],\n      country: ['', [Validators.required]]\n    });\n    \n    this.paymentForm = this.fb.group({\n      paymentMethod: [PaymentMethod.CREDIT_CARD, [Validators.required]],\n      cardNumber: ['', [Validators.required, Validators.pattern(/^\\d{16}$/)]],\n      cardName: ['', [Validators.required]],\n      expiryDate: ['', [Validators.required, Validators.pattern(/^(0[1-9]|1[0-2])\\/\\d{2}$/)]],\n      cvv: ['', [Validators.required, Validators.pattern(/^\\d{3,4}$/)]]\n    });\n  }\n\n  ngOnInit(): void {\n    // Get current user\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n      \n      // Pre-fill shipping form if user has address\n      if (user && user.address) {\n        this.shippingForm.patchValue({\n          fullName: `${user.firstName} ${user.lastName}`,\n          addressLine1: user.address.addressLine1,\n          addressLine2: user.address.addressLine2 || '',\n          city: user.address.city,\n          state: user.address.state,\n          postalCode: user.address.postalCode,\n          country: user.address.country\n        });\n      }\n    });\n  }\n  \n  nextStep(): void {\n    if (this.currentStep === 1 && this.shippingForm.valid) {\n      this.currentStep = 2;\n      window.scrollTo(0, 0);\n    }\n  }\n  \n  prevStep(): void {\n    if (this.currentStep === 2) {\n      this.currentStep = 1;\n      window.scrollTo(0, 0);\n    }\n  }\n  \n  placeOrder(): void {\n    if (this.shippingForm.invalid || this.paymentForm.invalid) {\n      return;\n    }\n    \n    const cart = this.cartService.currentCartValue;\n    if (!cart || !this.currentUser) {\n      this.error = 'Unable to place order. Please try again later.';\n      return;\n    }\n    \n    this.isSubmitting = true;\n    \n    // Create order object\n    const order = {\n      customerId: this.currentUser.customerId,\n      items: cart.items.map(item => ({\n        productId: item.productId,\n        name: item.name,\n        price: item.price,\n        quantity: item.quantity\n      })),\n      totalAmount: cart.totalPrice,\n      shippingAddress: {\n        fullName: this.shippingForm.value.fullName,\n        addressLine1: this.shippingForm.value.addressLine1,\n        addressLine2: this.shippingForm.value.addressLine2,\n        city: this.shippingForm.value.city,\n        state: this.shippingForm.value.state,\n        postalCode: this.shippingForm.value.postalCode,\n        country: this.shippingForm.value.country\n      },\n      paymentMethod: this.paymentForm.value.paymentMethod\n    };\n    \n    this.orderService.createOrder(order).subscribe({\n      next: (createdOrder: Order) => {\n        this.isSubmitting = false;\n        // Navigate to order confirmation page\n        this.router.navigate(['/order-confirmation', createdOrder.orderId]);\n      },\n      error: (error) => {\n        console.error('Error creating order:', error);\n        this.error = 'Failed to place your order. Please try again later.';\n        this.isSubmitting = false;\n      }\n    });\n  }\n  \n  // Form getters for validation\n  get sf() { return this.shippingForm.controls; }\n  get pf() { return this.paymentForm.controls; }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"checkout-page\">\n  <div class=\"page-header\">\n    <h1>Checkout</h1>\n  </div>\n  \n  <div class=\"checkout-steps\">\n    <div class=\"step\" [class.active]=\"currentStep === 1\">\n      <div class=\"step-number\">1</div>\n      <div class=\"step-label\">Shipping</div>\n    </div>\n    <div class=\"step-connector\"></div>\n    <div class=\"step\" [class.active]=\"currentStep === 2\">\n      <div class=\"step-number\">2</div>\n      <div class=\"step-label\">Payment</div>\n    </div>\n    <div class=\"step-connector\"></div>\n    <div class=\"step\" [class.active]=\"currentStep === 3\">\n      <div class=\"step-number\">3</div>\n      <div class=\"step-label\">Confirmation</div>\n    </div>\n  </div>\n  \n  <div class=\"checkout-content\">\n    <!-- Step 1: Shipping Information -->\n    <div *ngIf=\"currentStep === 1\" class=\"checkout-step-content\">\n      <h2>Shipping Information</h2>\n      \n      <form [formGroup]=\"shippingForm\" (ngSubmit)=\"nextStep()\">\n        <div class=\"form-group\">\n          <label for=\"fullName\">Full Name</label>\n          <input \n            type=\"text\" \n            id=\"fullName\" \n            formControlName=\"fullName\" \n            class=\"form-control\" \n            [class.is-invalid]=\"sf.fullName.invalid && sf.fullName.touched\">\n          <div *ngIf=\"sf.fullName.invalid && sf.fullName.touched\" class=\"invalid-feedback\">\n            Full name is required\n          </div>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"addressLine1\">Address Line 1</label>\n          <input \n            type=\"text\" \n            id=\"addressLine1\" \n            formControlName=\"addressLine1\" \n            class=\"form-control\"\n            [class.is-invalid]=\"sf.addressLine1.invalid && sf.addressLine1.touched\">\n          <div *ngIf=\"sf.addressLine1.invalid && sf.addressLine1.touched\" class=\"invalid-feedback\">\n            Address is required\n          </div>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"addressLine2\">Address Line 2 (Optional)</label>\n          <input \n            type=\"text\" \n            id=\"addressLine2\" \n            formControlName=\"addressLine2\" \n            class=\"form-control\">\n        </div>\n        \n        <div class=\"form-row\">\n          <div class=\"form-group col-md-6\">\n            <label for=\"city\">City</label>\n            <input \n              type=\"text\" \n              id=\"city\" \n              formControlName=\"city\" \n              class=\"form-control\"\n              [class.is-invalid]=\"sf.city.invalid && sf.city.touched\">\n            <div *ngIf=\"sf.city.invalid && sf.city.touched\" class=\"invalid-feedback\">\n              City is required\n            </div>\n          </div>\n          \n          <div class=\"form-group col-md-6\">\n            <label for=\"state\">State/Province</label>\n            <input \n              type=\"text\" \n              id=\"state\" \n              formControlName=\"state\" \n              class=\"form-control\"\n              [class.is-invalid]=\"sf.state.invalid && sf.state.touched\">\n            <div *ngIf=\"sf.state.invalid && sf.state.touched\" class=\"invalid-feedback\">\n              State is required\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"form-row\">\n          <div class=\"form-group col-md-6\">\n            <label for=\"postalCode\">Postal Code</label>\n            <input \n              type=\"text\" \n              id=\"postalCode\" \n              formControlName=\"postalCode\" \n              class=\"form-control\"\n              [class.is-invalid]=\"sf.postalCode.invalid && sf.postalCode.touched\">\n            <div *ngIf=\"sf.postalCode.invalid && sf.postalCode.touched\" class=\"invalid-feedback\">\n              Postal code is required\n            </div>\n          </div>\n          \n          <div class=\"form-group col-md-6\">\n            <label for=\"country\">Country</label>\n            <input \n              type=\"text\" \n              id=\"country\" \n              formControlName=\"country\" \n              class=\"form-control\"\n              [class.is-invalid]=\"sf.country.invalid && sf.country.touched\">\n            <div *ngIf=\"sf.country.invalid && sf.country.touched\" class=\"invalid-feedback\">\n              Country is required\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"form-actions\">\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\" \n            [disabled]=\"shippingForm.invalid\">\n            Continue to Payment\n          </button>\n        </div>\n      </form>\n    </div>\n    \n    <!-- Step 2: Payment Information -->\n    <div *ngIf=\"currentStep === 2\" class=\"checkout-step-content\">\n      <h2>Payment Information</h2>\n      \n      <form [formGroup]=\"paymentForm\" (ngSubmit)=\"placeOrder()\">\n        <div class=\"form-group\">\n          <label>Payment Method</label>\n          <div class=\"payment-methods\">\n            <div \n              *ngFor=\"let method of paymentMethods\" \n              class=\"payment-method\" \n              [class.selected]=\"paymentForm.value.paymentMethod === method.id\"\n              (click)=\"paymentForm.patchValue({paymentMethod: method.id})\">\n              <div class=\"payment-method-radio\">\n                <input \n                  type=\"radio\" \n                  [id]=\"method.id\" \n                  [value]=\"method.id\" \n                  formControlName=\"paymentMethod\">\n                <label [for]=\"method.id\">{{ method.name }}</label>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div *ngIf=\"paymentForm.value.paymentMethod === 'credit_card'\" class=\"credit-card-form\">\n          <div class=\"form-group\">\n            <label for=\"cardNumber\">Card Number</label>\n            <input \n              type=\"text\" \n              id=\"cardNumber\" \n              formControlName=\"cardNumber\" \n              class=\"form-control\" \n              placeholder=\"1234 5678 9012 3456\"\n              [class.is-invalid]=\"pf.cardNumber.invalid && pf.cardNumber.touched\">\n            <div *ngIf=\"pf.cardNumber.invalid && pf.cardNumber.touched\" class=\"invalid-feedback\">\n              Please enter a valid 16-digit card number\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"cardName\">Name on Card</label>\n            <input \n              type=\"text\" \n              id=\"cardName\" \n              formControlName=\"cardName\" \n              class=\"form-control\"\n              [class.is-invalid]=\"pf.cardName.invalid && pf.cardName.touched\">\n            <div *ngIf=\"pf.cardName.invalid && pf.cardName.touched\" class=\"invalid-feedback\">\n              Name on card is required\n            </div>\n          </div>\n          \n          <div class=\"form-row\">\n            <div class=\"form-group col-md-6\">\n              <label for=\"expiryDate\">Expiry Date</label>\n              <input \n                type=\"text\" \n                id=\"expiryDate\" \n                formControlName=\"expiryDate\" \n                class=\"form-control\" \n                placeholder=\"MM/YY\"\n                [class.is-invalid]=\"pf.expiryDate.invalid && pf.expiryDate.touched\">\n              <div *ngIf=\"pf.expiryDate.invalid && pf.expiryDate.touched\" class=\"invalid-feedback\">\n                Please enter a valid expiry date (MM/YY)\n              </div>\n            </div>\n            \n            <div class=\"form-group col-md-6\">\n              <label for=\"cvv\">CVV</label>\n              <input \n                type=\"text\" \n                id=\"cvv\" \n                formControlName=\"cvv\" \n                class=\"form-control\" \n                placeholder=\"123\"\n                [class.is-invalid]=\"pf.cvv.invalid && pf.cvv.touched\">\n              <div *ngIf=\"pf.cvv.invalid && pf.cvv.touched\" class=\"invalid-feedback\">\n                Please enter a valid CVV\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div *ngIf=\"paymentForm.value.paymentMethod === 'paypal'\" class=\"paypal-info\">\n          <p>You will be redirected to PayPal to complete your payment after reviewing your order.</p>\n        </div>\n        \n        <div *ngIf=\"error\" class=\"alert alert-danger\">\n          {{ error }}\n        </div>\n        \n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn btn-outline\" (click)=\"prevStep()\">\n            Back to Shipping\n          </button>\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\" \n            [disabled]=\"paymentForm.invalid || isSubmitting\">\n            <span *ngIf=\"!isSubmitting\">Place Order</span>\n            <span *ngIf=\"isSubmitting\">Processing...</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n  \n  <!-- Order Summary -->\n  <div class=\"order-summary\">\n    <h3>Order Summary</h3>\n    \n    <div *ngIf=\"cart$ | async as cart\">\n      <div class=\"cart-items\">\n        <div *ngFor=\"let item of cart.items\" class=\"cart-item\">\n          <div class=\"item-info\">\n            <div class=\"item-name\">{{ item.name }}</div>\n            <div class=\"item-quantity\">Qty: {{ item.quantity }}</div>\n          </div>\n          <div class=\"item-price\">${{ (item.price * item.quantity).toFixed(2) }}</div>\n        </div>\n      </div>\n      \n      <div class=\"summary-divider\"></div>\n      \n      <div class=\"summary-row\">\n        <span>Subtotal</span>\n        <span>${{ cart.totalPrice.toFixed(2) }}</span>\n      </div>\n      \n      <div class=\"summary-row\">\n        <span>Shipping</span>\n        <span>Free</span>\n      </div>\n      \n      <div class=\"summary-row total\">\n        <span>Total</span>\n        <span>${{ cart.totalPrice.toFixed(2) }}</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}